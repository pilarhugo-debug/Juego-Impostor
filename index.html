<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Juego del Impostor Halloween</title>
</head>
<body>
  <h2>Juego del Impostor 🎃</h2>
  <button onclick="siguienteJugador()">Ver mi rol</button>
  <p id="mensaje"></p>

  <script>
    const personajes = [
      "Bruja", "Vampiro", "Calabaza", "Fantasma", "Esqueleto", 
      "Drácula", "Frankenstein", "Chucky", "Pennywise", "Jason", "Freddy Kruger", "Michael Mayers", "Annabelle",
      "Ghostface", "Beetlejuice", "Merlina", "Jigsaw", "Leatherface", "Slenderman", "Coraline", "Casper", "Salem",
      "Homero", "Morticia", "hombre lobo", "calabaza", "murciélago", "momia"
    ];

    let numJugadores = prompt("¿Cuántos jugadores?");
    numJugadores = parseInt(numJugadores);
    if (numJugadores < 3) {
      alert("Debe haber al menos 3 jugadores.");
      location.reload();
    }

    const impostor = Math.floor(Math.random() * numJugadores);
    const personajeComun = personajes[Math.floor(Math.random() * personajes.length)];
    let actual = 0;

    function siguienteJugador() {
      if (actual >= numJugadores) {
        document.getElementById("mensaje").innerText = "Todos los roles han sido asignados. ¡Que comience el juego!";
        return;
      }

      let mensaje;
      if (actual === impostor) {
        mensaje = `Jugador ${actual + 1}: 🕵️‍♂️ Eres el impostor. ¡Debes mentir!`;
      } else {
        mensaje = `Jugador ${actual + 1}: 👤 Tu personaje es: ${personajeComun}`;
      }

      alert(mensaje);
      document.getElementById("mensaje").innerText = `Jugador ${actual + 1} ya vio su rol. Pasa el celular.`;
      actual++;
    }
  </script>
</body>
</html>
